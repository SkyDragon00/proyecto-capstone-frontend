{% extends "base.html.j2" %}

{% block title %}Log In{% endblock title %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', path='css/login-style.css') }}" />
{% endblock head %}

{% block main %}
<video autoplay loop muted playsinline id="bg-video">
    <source src="{{ url_for('static', path='videos/udla_park.mp4') }}" type="video/mp4">
    Tu navegador no soporta video HTML5.
</video>

<div class="login-container">
    <div class="login-form">
        <div class="login-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="icon icon-tabler icons-tabler-outline icon-tabler-user-check">
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" />
                <path d="M6 21v-2a4 4 0 0 1 4 -4h4" />
                <path d="M15 19l2 2l4 -4" />
            </svg>

            <h1>Iniciar Sesión</h1>

            <p>Inicia sesión para acceder a tu cuenta.</p>
        </div>

        <form method="post" action="/login" id="login-form">
            <label for="username">Email:</label>
            <input type="email" id="username" name="username" required placeholder="ejemplo@gmail.com">

            <label for="password">Contraseña:</label>
            <input type="password" id="password" name="password" required placeholder="••••••••">

            <input type="hidden" name="grant_type" value="password">
            {# <input type="hidden" name="scope" value="organizer"> #}

            <button type="submit" class="a-button-filled-red">Iniciar Sesión</button>
        </form>

        <div class="divider-container">
            <div class="divider-line"></div>
            <div class="divider-text">
                <span>¿No tienes cuenta?</span>
            </div>
        </div>

        <div class="login-footer">
            <a href="/signup" class="a-button-outline-red">Regístrate</a>
        </div>
    </div>
</div>
{% endblock main %}

{% block scripts %}

{% if message == "new_user" %}
<script>
    Swal.fire({
        title: '¡Bienvenido!',
        text: 'Tu cuenta ha sido creada exitosamente. Por favor, inicia sesión.',
        icon: 'success',
        confirmButtonText: 'Continuar'
    });
</script>
{% endif %}
{% endblock scripts %}