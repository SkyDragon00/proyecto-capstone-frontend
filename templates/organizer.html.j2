{% extends "base.html.j2" %}

{% block title %}Todos los organizadores{% endblock title %}

{% block head %}
{# aqu√≠ si necesitas CSS extra, lo descomentas #}
{# <link rel="stylesheet" href="{{ url_for('static', path='css/organizers.css') }}" /> #}
{% endblock head %}

{% block header_nav %}
<li><a href="/home">Home</a></li>
<li><a href="#">Eventos</a></li>
<li><a href="#">Contacto</a></li>
{% endblock header_nav %}

{% block main %}
<a href="/create-organizer" class="a-button-filled-red">Crear Organizador</a>

<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Email</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for org in organizers %}
        <tr id="organizer-row-{{ org.id }}">
            <td>{{ org.id }}</td>
            <td>{{ org.first_name }}</td>
            <td>{{ org.last_name }}</td>
            <td>{{ org.email }}</td>
            <td>
                <a href="/edit-organizer/{{ org.id }}">Editar</a> |
                <button onclick="deleteOrganizer({{ org.id }})">Eliminar</button>
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="5">No hay organizadores registrados.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock main %}

{% block scripts %}
<script>
    // Debug: verificar cookies disponibles
    console.log("Cookies disponibles en el template:", document.cookie);
</script>
<script src="{{ url_for('static', path='js/organizer_operations.js') }}?v=2"></script>
{% endblock scripts %}